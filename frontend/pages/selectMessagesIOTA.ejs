<div id="alertContainer" class="callout" style="display: none;"></div>

<div class="cell medium-8 large-12">

  <!-- Collapsible Info Card Element -->
  <div class="custom-info-card">
    <ul class="accordion" data-accordion data-allow-all-closed="true">
      <!-- 
                          - The 'is-active' class makes this item open by default.
                          - Remove 'is-active' to have it start in a closed state.
                        -->
      <li class="accordion-item is-active" data-accordion-item>
        <!-- The clickable header with icon and title -->
        <a href="#" class="accordion-title">
          <i class="fas fa-info-circle"></i>
          <span><strong> Sensor Messages - IOTA Upload</strong></span>
        </a>

        <!-- The collapsible content area -->
        <div class="accordion-content" data-tab-content>
          <p>
            Select messages for upload to the
            <a href="https://shimmer.network/" target="_blank"><b>IOTA Shimmer</b></a> network. The maximum allowed
            payload
            in a request is 32 KB. Once you select the messages and click the <b>Upload</b> button, the app backend
            will create
            the payload and initiate the upload. The transaction will be confirmed as soon as the app receives the
            "OK" response.
            Data upload transactions are feeless. Readings can be uploaded multiple times, with no restrictions.
          </p>
        </div>
      </li>
    </ul>
  </div>

</div>


<div class="cell-btn text-right">
  <button class="button small primary radius small-radius" id="selectAllBtn" type="button">Select all</button>
  <button class="button small primary radius small-radius" id="deselectAllBtn" type="button">Deselect all</button>
</div>
<form id="temperatureUploadForm">
  <table class="hover custom-table">
    <thead>
      <tr>
        <th>Device ID</th>
        <th>MAC</th>
        <th>Sensor data</th>
        <th>Timestamp</th>
        <th>Uploaded</th>
        <th>Select</th>
      </tr>
    </thead>
    <tbody id="temperatureMessagesContainer">
      <!-- Temperature messages will be dynamically inserted here -->
    </tbody>
  </table>

  <div id="paginationControls" class="grid-x grid-padding-x">
    <div class="cell small-6 medium-4">
      <label for="pageSize">Rows per page:</label>
      <select id="pageSize">
        <option value="25">25</option>
        <option value="50">50</option>
        <option value="100">100</option>
      </select>
    </div>
    <div class="cell small-6 medium-8 text-right">
      <button class="button small primary radius small-radius" id="prevPage" type="button">Previous</button>
      <button class="button small primary radius small-radius" id="nextPage" type="button">Next</button>
    </div>
    <div id="paginationInfo" class="cell small-12 text-right"></div>
  </div>

  <div class="upload-controls text-right" style="margin-top: 1em;">
    <span id="selectedCount" style="margin-right: 10px; font-weight: 500;">Selected: 0 messages</span>
    <button class="button success radius" id="uploadToIotaBtn" type="button" disabled>
      <i class="fas fa-upload"></i> Upload to IOTA
    </button>
  </div>
</form>


<script type="module" src="/js/selectTemperature.js"></script>
<script src="/js/statusMessage.js"></script>