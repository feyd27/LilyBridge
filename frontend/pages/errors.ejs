<h1 class="title-align">Errors</h1>

<div class="grid-container">
  <div class="grid-x grid-margin-x">
    <div class="cell medium-8 large-12">

      <!-- Collapsible Info Card Element -->
      <div class="custom-info-card">
        <ul class="accordion" data-accordion data-allow-all-closed="true">
          <!-- 
                          - The 'is-active' class makes this item open by default.
                          - Remove 'is-active' to have it start in a closed state.
                        -->
          <li class="accordion-item is-active" data-accordion-item>
            <!-- The clickable header with icon and title -->
            <a href="#" class="accordion-title">
              <i class="fas fa-info-circle"></i>
              <span>Error Handling</span>
            </a>

            <!-- The collapsible content area -->
            <div class="accordion-content" data-tab-content>
              <p>In addition to status updates, the device is also designed to report failures gracefully.
                If an issue prevents the creation of a valid sensor message—most commonly an inability to
                connect to the NTP server—the device will not send incomplete data. Instead, it sends a specific
                error message to the broker. The Lily Bridge application logs these errors, timestamping
                them upon arrival, which helps in diagnosing connectivity issues or other potential
                problems with the IoT device.
              </p>
            </div>
          </li>
        </ul>
      </div>

    </div>
  </div>
</div>

<table class="hover custom-table">
  <thead>
    <tr>
      <th>Error</th>
      <th>Received At</th>
    </tr>
  </thead>
  <tbody id="errorMessagesTable">
    <!-- Error messages will be dynamically inserted here -->
  </tbody>
</table>

<!-- Pagination Controls -->
<div id="paginationControls" class="grid-x grid-padding-x">
  <div class="cell small-6 medium-4">
    <label for="pageSize">Rows per page:</label>
    <select id="pageSize">
      <option value="25">25</option>
      <option value="50">50</option>
      <option value="100">100</option>
    </select>
  </div>
  <div class="cell small-6 medium-8 text-right">
    <button class="button small primary radius small-radius" id="prevPage">Previous</button>
    <button class="button small primary radius small-radius" id="nextPage">Next</button>
  </div>
  <div id="paginationInfo" class="cell small-12 text-right"></div>
</div>

<script type="module" src="/js/errorMessages.js"></script>
<script src="/js/statusMessage.js"></script>