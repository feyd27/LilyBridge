"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.calculateDistributionFee = void 0;
const util_1 = require("@signumjs/util");
const getAsset_1 = require("./getAsset");
/**
 * Use with {@link ApiComposer} and belongs to {@link AssetApi}.
 *
 * See details at {@link AssetApi.calculateDistributionFee}
 * @see also {@link AssetApi.distributeToAssetHolders}
 *
*
* @category factories
*/
const calculateDistributionFee = (service) => async (args) => {
    const { assetId, minimumQuantity } = args;
    const { numberOfAccounts } = await (0, getAsset_1.getAsset)(service)({ assetId, minimumQuantity });
    const minFee = util_1.Amount.fromSigna(0.01);
    const feePerHolders = minFee.clone().multiply(numberOfAccounts);
    const fee = feePerHolders.greater(minFee) ? feePerHolders : minFee;
    return {
        fee,
        numberOfAccounts,
    };
};
exports.calculateDistributionFee = calculateDistributionFee;
//# sourceMappingURL=calculateDistributionFee.js.map